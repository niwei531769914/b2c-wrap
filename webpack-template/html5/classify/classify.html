<!DOCTYPE html>
<html lang="en" style="-webkit-overflow-scrolling: touch">
<head>
    <meta charset="UTF-8">
    <title>分类</title>
    <meta name="description" content="">
    <meta name="Keywords" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no,email=no">
    <link href="../common/css/common.css" rel="stylesheet">
    <script src="js/classify.js"></script>
    <link href="css/classify.css" rel="stylesheet">
    <script src="../common/js/zepto.min.js"></script>

</head>
<body class="nwrapper">
<div class="category-viewport">
   <div class="hy-category-tab">
       <div id="category">
           <ul>
               <li class="active"><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">京东超市</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">国际品牌</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">奢侈品</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">全球购</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">男装</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">女装</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">男鞋</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">内衣配饰</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">热门推荐</a></li>
               <li><a class="hy-btn" href="javascript: void (0);">二手车</a></li>
           </ul>
       </div>
   </div>

    <div class="hy-category-content">
        <div id="branchScroll" class="hy-category-content-wrapper" >
            <div id="branchList">
                <div style="width: 100%; height: 2000px; background: red" class="">
22
                </div>
            </div>
        </div>
    </div>

</div>
</body>
<script src="../common/js/iscroll.js"></script>
<script type="text/javascript">
    $(window).ready(function () {

        Height();

        let Scroll = new IScroll('#category',
            {
                preventDefault: false ,
                tap: true,
                scrollbars: false,
            });

        let myScroll = new IScroll('#branchScroll',
            {
                preventDefault: false ,
                tap: true,
                scrollbars: false,
            });

        //设置需要滚动模块高度
        function Height() {
            let WindowHeight = window.screen.availHeight;
            document.querySelector('#category').style.height = WindowHeight + 'px';
            document.querySelector('#branchScroll').style.height = WindowHeight + 'px';
        }

        window.onresize = function(){
            Height();
        };

        //点击切换active
        $('#category ul li').on('tap',function () {

            if($(this).hasClass('active')){
                console.log(1);
                return false;
            }

            $('#category ul li').removeClass('active');
            $(this).addClass('active');
            let PositionIndex = document.querySelector('#category li[class="active"]');
            //中间
            Scroll.scrollToElement(PositionIndex,200,true,true);
            //顶部
            //Scroll.scrollToElement(PositionIndex,200,false,false);

            document.querySelector('#branchList').style.opacity = '0';
            document.querySelector('#branchList').style.transition = 'opacity .2s linear 0s';
            setTimeout(function () {
                document.querySelector('#branchList').style.opacity = '1';
                setTimeout(function () {
                    document.querySelector('#branchList').setAttribute('style','transform: translate(0px, 0px);');
                },200)
            },200);
        })

    })
</script>
</html>